function requestSWInfo(e,n){return new Promise(function(t,r){var o=new XMLHttpRequest;o.open(n,e,!0),o.send(),o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var e=o.responseText,n=JSON.parse(e);t(n)}else r(o.status),console.log("xhr failed");else console.log("xhr processing going on")}})}function errorHandler(e){console.log("failed with status",status)}var peopleData=[],planetData=[],renderList=function(){function e(e){for(var n=0;n<e;n++)a.appendChild(document.createElement("LI"))}function n(e){for(var n=1;n<=e;n++)currentPersonURL=i+n,requestSWInfo(currentPersonURL,"GET").then(t.bind(null,n-1),errorHandler)}function t(e,n){r(e,n),o(e,n)}function r(e,n){a.children[e].innerHTML=n.name}function o(e,n){var t={position:e,name:n.name,height:n.height,weight:n.mass,birth_year:n.birth_year,gender:n.gender};n.homeworld?t.planet=n.homeworld.replace(/[^0-9]/g,""):t.planet="unknown",n.species[0]?t.species=n.species[0].replace(/[^0-9]/g,""):t.species="unknown",peopleData.push(t),peopleData.sort(function(e,n){return e.position-n.position})}var a=document.getElementById("people-grid"),i="https://swapi.co/api/people/";requestSWInfo(i,"GET").then(function(t){var r=t.count;e(r),n(r)},errorHandler)}(),renderList=function(){function e(e){for(var t=1;t<=e;t++)currentPlanetURL=r+t,requestSWInfo(currentPlanetURL,"GET").then(n.bind(null,t-1),errorHandler)}function n(e,n){t(e,n)}function t(e,n){var t={position:e,name:n.name,terrain:n.terrain,population:n.population,diameter:n.diameter};n.residents.length?t.residents=n.residents.map(function(e){return e.replace(/[^0-9]/g,"")}):t.residents="unknown",planetData.push(t),planetData.sort(function(e,n){return e.position-n.position})}var r="https://swapi.co/api/planets/";requestSWInfo(r,"GET").then(function(n){e(n.count)},errorHandler)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJwZW9wbGUtbGlzdC5qcyIsInBsYW5ldC1saXN0LmpzIl0sIm5hbWVzIjpbInJlcXVlc3RTV0luZm8iLCJ1cmwiLCJtZXRob2RUeXBlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZW5kIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3AiLCJyZXNwb25zZVRleHQiLCJyZXNwSnNvbiIsIkpTT04iLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvckhhbmRsZXIiLCJzdGF0dXNDb2RlIiwicGVvcGxlRGF0YSIsInBsYW5ldERhdGEiLCJyZW5kZXJMaXN0IiwiX2J1aWxkTGlzdCIsInBlb3BsZU51bWJlciIsImkiLCJwZW9wbGVHcmlkIiwiYXBwZW5kQ2hpbGQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJfcG9wdWxhdGVMaXN0IiwiY3VycmVudFBlcnNvblVSTCIsInBlb3BsZVVSTCIsInRoZW4iLCJfZ2V0UGVvcGxlRGF0YSIsImJpbmQiLCJkYXRhIiwiX3JlbmRlclBlcnNvbkl0ZW0iLCJfc3RvcmVQZXJzb25EYXRhIiwiY2hpbGRyZW4iLCJpbm5lckhUTUwiLCJuYW1lIiwibmV3UGVyc29uIiwicG9zaXRpb24iLCJoZWlnaHQiLCJ3ZWlnaHQiLCJtYXNzIiwiYmlydGhfeWVhciIsImdlbmRlciIsImhvbWV3b3JsZCIsInBsYW5ldCIsInJlcGxhY2UiLCJzcGVjaWVzIiwicHVzaCIsInNvcnQiLCJhIiwiYiIsImdldEVsZW1lbnRCeUlkIiwiY291bnQiLCJwbGFuZXROdW1iZXIiLCJjdXJyZW50UGxhbmV0VVJMIiwicGxhbmV0VVJMIiwiX2dldFBsYW50ZURhdGEiLCJfc3RvcmVQbGFuZXREYXRhIiwibmV3UGxhbmV0IiwidGVycmFpbiIsInBvcHVsYXRpb24iLCJkaWFtZXRlciIsInJlc2lkZW50cyIsImxlbmd0aCIs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QStELEVBQUEsT0FBQTVCLEtBRUEsU0FBQUcsR0FFQU4sRUFEQU0sRUFBQXNCLFFBSEF4QyxjQUhBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHJlcXVlc3RTV0luZm8odXJsLCBtZXRob2RUeXBlKXtcbiAgdmFyIHByb21pc2VPYmogPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbihtZXRob2RUeXBlLCB1cmwsIHRydWUpO1xuICAgIHhoci5zZW5kKCk7XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZih4aHIucmVhZHlTdGF0ZSA9PT0gNCl7XG4gICAgICAgICBpZih4aHIuc3RhdHVzID09PSAyMDApe1xuICAgICAgICAgIHZhciByZXNwID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgIHZhciByZXNwSnNvbiA9IEpTT04ucGFyc2UocmVzcCk7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3BKc29uKTtcbiAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgIHJlamVjdCh4aHIuc3RhdHVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwieGhyIGZhaWxlZFwiKTsgLy8gVE9ETzogYXBwZW5kICdjYW50IGZpbmQnIG1zZ1xuICAgICAgICAgICB9XG4gICAgICB9IGVsc2V7XG4gICAgICAgICBjb25zb2xlLmxvZyhcInhociBwcm9jZXNzaW5nIGdvaW5nIG9uXCIpOyAvLyBUT0RPOiBhZGQgbG9hZGluZyBhbmltYXRpb25cbiAgICAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHByb21pc2VPYmo7XG59XG5cbmZ1bmN0aW9uIGVycm9ySGFuZGxlcihzdGF0dXNDb2RlKXtcbiAgY29uc29sZS5sb2coXCJmYWlsZWQgd2l0aCBzdGF0dXNcIiwgc3RhdHVzKTtcbn1cblxudmFyIHBlb3BsZURhdGEgPSBbXTtcbnZhciBwbGFuZXREYXRhID0gW107XG4iLCJ2YXIgcmVuZGVyTGlzdCA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHBlb3BsZUdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVvcGxlLWdyaWQnKTtcblxuICB2YXIgcGVvcGxlVVJMID0gJ2h0dHBzOi8vc3dhcGkuY28vYXBpL3Blb3BsZS8nO1xuXG4gIHJlcXVlc3RTV0luZm8ocGVvcGxlVVJMLCBcIkdFVFwiKS50aGVuKF9zdGFydExpc3QsIGVycm9ySGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gX3N0YXJ0TGlzdChkYXRhKSB7XG4gICAgdmFyIHBlb3BsZU51bWJlciA9IGRhdGEuY291bnQ7XG4gICAgX2J1aWxkTGlzdChwZW9wbGVOdW1iZXIpO1xuICAgIF9wb3B1bGF0ZUxpc3QocGVvcGxlTnVtYmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9idWlsZExpc3QocGVvcGxlTnVtYmVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwZW9wbGVOdW1iZXI7IGkrKykge1xuICAgICAgcGVvcGxlR3JpZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiTElcIikpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9wb3B1bGF0ZUxpc3QocGVvcGxlTnVtYmVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gcGVvcGxlTnVtYmVyOyBpKyspIHtcbiAgICAgIGN1cnJlbnRQZXJzb25VUkwgPSBwZW9wbGVVUkwgKyBpO1xuICAgICAgcmVxdWVzdFNXSW5mbyhjdXJyZW50UGVyc29uVVJMLCBcIkdFVFwiKS50aGVuKF9nZXRQZW9wbGVEYXRhLmJpbmQobnVsbCwgaSAtIDEpLCBlcnJvckhhbmRsZXIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRQZW9wbGVEYXRhKGksIGRhdGEpIHtcbiAgICBfcmVuZGVyUGVyc29uSXRlbShpLCBkYXRhKTtcbiAgICBfc3RvcmVQZXJzb25EYXRhKGksZGF0YSk7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVuZGVyUGVyc29uSXRlbShpLCBkYXRhKSB7XG4gICAgcGVvcGxlR3JpZC5jaGlsZHJlbltpXS5pbm5lckhUTUwgPSBkYXRhLm5hbWU7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RvcmVQZXJzb25EYXRhKGksIGRhdGEpIHtcbiAgICB2YXIgbmV3UGVyc29uID0ge1xuICAgICAgcG9zaXRpb246IGksXG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICBoZWlnaHQ6IGRhdGEuaGVpZ2h0LFxuICAgICAgd2VpZ2h0OiBkYXRhLm1hc3MsXG4gICAgICBiaXJ0aF95ZWFyOiBkYXRhLmJpcnRoX3llYXIsXG4gICAgICBnZW5kZXI6IGRhdGEuZ2VuZGVyXG4gICAgfTtcblxuICAgIGRhdGEuaG9tZXdvcmxkID8gbmV3UGVyc29uLnBsYW5ldCA9IGRhdGEuaG9tZXdvcmxkLnJlcGxhY2UoL1teMC05XS9nLCcnKSA6IG5ld1BlcnNvbi5wbGFuZXQgPSBcInVua25vd25cIjtcbiAgICBkYXRhLnNwZWNpZXNbMF0gPyBuZXdQZXJzb24uc3BlY2llcyA9IGRhdGEuc3BlY2llc1swXS5yZXBsYWNlKC9bXjAtOV0vZywnJykgOiBuZXdQZXJzb24uc3BlY2llcyA9IFwidW5rbm93blwiO1xuXG4gICAgcGVvcGxlRGF0YS5wdXNoKG5ld1BlcnNvbik7XG4gICAgcGVvcGxlRGF0YS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYS5wb3NpdGlvbiAtIGIucG9zaXRpb247XG4gICAgfSk7XG4gIH1cbn0pKCk7XG4iLCJ2YXIgcmVuZGVyTGlzdCA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHBsYW5ldFVSTCA9ICdodHRwczovL3N3YXBpLmNvL2FwaS9wbGFuZXRzLyc7XG5cbiAgcmVxdWVzdFNXSW5mbyhwbGFuZXRVUkwsIFwiR0VUXCIpLnRoZW4oX3N0YXJ0TGlzdCwgZXJyb3JIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBfc3RhcnRMaXN0KGRhdGEpIHtcbiAgICB2YXIgcGxhbmV0TnVtYmVyID0gZGF0YS5jb3VudDtcbiAgICBfcG9wdWxhdGVMaXN0KHBsYW5ldE51bWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBfcG9wdWxhdGVMaXN0KHBsYW5ldE51bWJlcikge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHBsYW5ldE51bWJlcjsgaSsrKSB7XG4gICAgICBjdXJyZW50UGxhbmV0VVJMID0gcGxhbmV0VVJMICsgaTtcbiAgICAgIHJlcXVlc3RTV0luZm8oY3VycmVudFBsYW5ldFVSTCwgXCJHRVRcIikudGhlbihfZ2V0UGxhbnRlRGF0YS5iaW5kKG51bGwsIGkgLSAxKSwgZXJyb3JIYW5kbGVyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0UGxhbnRlRGF0YShpLCBkYXRhKSB7XG4gICAgX3N0b3JlUGxhbmV0RGF0YShpLGRhdGEpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0b3JlUGxhbmV0RGF0YShpLCBkYXRhKSB7XG4gICAgdmFyIG5ld1BsYW5ldCA9IHtcbiAgICAgIHBvc2l0aW9uOiBpLFxuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgdGVycmFpbjogZGF0YS50ZXJyYWluLFxuICAgICAgcG9wdWxhdGlvbjogZGF0YS5wb3B1bGF0aW9uLFxuICAgICAgZGlhbWV0ZXI6IGRhdGEuZGlhbWV0ZXJcbiAgICB9O1xuXG4gICAgaWYgKGRhdGEucmVzaWRlbnRzLmxlbmd0aCkge1xuICAgICAgbmV3UGxhbmV0LnJlc2lkZW50cyA9IGRhdGEucmVzaWRlbnRzLm1hcChmdW5jdGlvbihyZXNpZGVudFVSTCkge1xuICAgICAgICByZXR1cm4gcmVzaWRlbnRVUkwucmVwbGFjZSgvW14wLTldL2csJycpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1BsYW5ldC5yZXNpZGVudHMgPSBcInVua25vd25cIjtcbiAgICB9XG5cbiAgICBwbGFuZXREYXRhLnB1c2gobmV3UGxhbmV0KTtcbiAgICBwbGFuZXREYXRhLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhLnBvc2l0aW9uIC0gYi5wb3NpdGlvbjtcbiAgICB9KTtcbiAgfVxufSkoKTtcbiJdfQ==
